// Part tags

// TantaresLV
@PART[tantares_lv_engine_rd_0210_s0_1|tantares_lv_engine_rd_0213_s0_1|tantares_lv_engine_rd_0214_s0_1|tantares_lv_engine_rd_250_s0_1|tantares_lv_engine_rd_252_s0_1|tantares_lv_engine_rd_253_s0_1|tantares_lv_engine_rd_855_s0_1|tantares_lv_engine_rd_856_s0_1|delphini_us_engine_s1_1|corvus_lv_engine_s1_2|corvus_lv_bare_engine_s1_1|corvus_lv_bare_engine_s1_2|corvus_lv_engine_s1_1]:NEEDS[TantaresLV]:FIRST
{
	%KeaEngineType = KeaAZ50NTO
}
@PART[tantares_us*|berehynia_lv_fuel_tank*|delphini_us_fuel_tank_s1_1|proton_v2*|corvus_lv_fuel_tank*|chara_lv_fuel_tank_s0p5_3|chara_lv_fuel_tank_s0p5_4]:NEEDS[TantaresLV]:FIRST
{
	%KeaTankType = Hypergolic
}
@PART[blok_d_v2_rcs_srf_1]:NEEDS[TantaresLV]:FIRST
{
	%KeaEngineType = Hypergolic
}

// Engine and tank setup
@PART[alnair*,rotanev*,tantares*,libra*,berehynia*,hydra*,blok_d*,andromeda*,delphini*,proton*,corvus*,chara*]:HAS[#KeaEngineType[KeaAZ50NTO]]:AFTER[TantaresCFG]
{
	// Changes the default fuel
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[fuelSwitch]]
	{
		%currentSubtype = Hypergolic
	}
	
	// Only need to change name. 2.25:2.75 is the same as 0.9:1.1
	@MODULE[ModuleEngines*],*
	{
		@PROPELLANT[LiquidFuel]
		{
			@name = Aerozine50
		}
		@PROPELLANT[Oxidizer]
		{
			@name = NTO
		}
	}
	@MODULE[ModuleRCS*],*
	{
		@PROPELLANT[LiquidFuel]
		{
			@name = Aerozine50
		}
		@PROPELLANT[Oxidizer]
		{
			@name = NTO
		}
	}
	
	// Not present in tanks, but some engines have fuel onboard
	@RESOURCE[LiquidFuel]
	{
		@name = Aerozine50
		@amount *= 5
		@maxAmount *= 5
	}
	@RESOURCE[Oxidizer]
	{
		@name = NTO
		@amount *= 5
		@maxAmount *= 5
	}
}

// This code sets default fuel type for Hypergolic tanks to Hypergolic (whatever subvariant)
@PART[alnair*,rotanev*,tantares*,libra*,berehynia*,hydra*,blok_d*,andromeda*,delphini*,proton*,corvus*,chara*]:HAS[#KeaTankType[Hypergolic]]:AFTER[zzzTantaresCFG]
{
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[fuelSwitch]]
	{
		%currentSubtype = Hypergolic
	}
}
